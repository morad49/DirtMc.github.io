<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DirtMC — Minecraft Style</title>

<!-- Pixel / arcade font for Minecraft-ish feel -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
  :root{
    --grass-top:#6db544;
    --grass-edge:#579336;
    --dirt1:#8b5a2b;
    --dirt2:#6f4421;
    --accent:#ffd24d;
    --ui-dark: #111;
    --ui-light: #e6e6e6;
  }

  /* basic reset */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Press Start 2P', monospace;background:#0b0b0b;color:var(--ui-light);-webkit-font-smoothing:none;overflow:hidden}
  /* pixel perfect scaling on some browsers */
  body{image-rendering:pixelated}

  /* Background made of repeating "dirt blocks" with grass top */
  :root{
    --block-size:64px;
  }

  body::before{
    content:"";
    position:fixed;inset:0;z-index:0;
    background:
      linear-gradient( to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.7) 100%),
      linear-gradient(180deg, var(--grass-top) 0px, var(--grass-top) 18px, var(--grass-edge) 22px, var(--dirt1) 24px),
      repeating-linear-gradient(45deg, rgba(0,0,0,0.03) 0 8px, transparent 8px 16px),
      repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0 4px, transparent 4px 8px);
    background-size: cover, auto, var(--block-size) var(--block-size), auto;
    background-position:center top, center 0, 0 0, 0 0;
    filter: contrast(1.02) saturate(1.05);
  }

  /* Decorative floating blocks (pixel blocks) */
  .floating-block{
    position:fixed; z-index:10;
    width:64px;height:64px;
    background:
      linear-gradient(#6db544,#579336) padding-box,
      linear-gradient(45deg, rgba(0,0,0,0.12), rgba(255,255,255,0.06)) border-box;
    border:4px solid rgba(0,0,0,0.35);
    box-shadow: 0 8px 0 rgba(0,0,0,0.5);
    image-rendering:pixelated;
    transform-origin:center;
    will-change:transform,opacity;
  }

  /* CENTER UI */
  .stage{
    position:relative; z-index:20; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:20px;
  }
  .card{
    width:min(980px,94%);
    background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.45));
    border:6px solid rgba(0,0,0,0.6);
    box-shadow: 0 20px 60px rgba(0,0,0,0.7);
    border-radius:12px;
    padding:26px;
    display:flex;
    gap:24px;
    align-items:center;
    justify-content:space-between;
    flex-wrap:wrap;
  }

  /* Left: Logo / title */
  .logo-block{
    display:flex; flex-direction:column; gap:12px; align-items:flex-start;
    min-width:320px;
  }
  .logo{
    display:flex; align-items:center; gap:14px;
  }
  .logo .cube{
    width:96px; height:96px; background: linear-gradient(#7fbf56,#5f9a3a);
    border:8px solid #3f6a29; box-shadow: 0 12px 0 rgba(0,0,0,0.55);
    display:flex; align-items:center; justify-content:center; font-size:20px; color:#071503;
    transform:translateZ(0);
  }
  .title{
    font-size:28px; letter-spacing:1px; color:var(--accent);
    text-shadow: 0 8px 0 rgba(0,0,0,0.6), 0 0 18px rgba(255,210,77,0.12);
  }
  .subtitle{ font-size:11px; color:#cfeedd; max-width:520px; line-height:1.4; opacity:0.95 }

  /* Right: IP & buttons */
  .controls{ display:flex; flex-direction:column; gap:12px; align-items:center; min-width:260px }

  .ip-display{
    background: linear-gradient(90deg,#2f2f2f,#1a1a1a);
    padding:12px 14px; border-radius:8px; border:4px solid rgba(0,0,0,0.5);
    font-size:13px; color:var(--ui-light); text-align:center; width:100%;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  }

  /* Pixel button style */
  .btn-row{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
  .btn{
    padding:12px 14px; border-radius:6px; border:3px solid rgba(0,0,0,0.6);
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.06));
    color:#fff; cursor:pointer; font-size:11px; letter-spacing:1px;
    box-shadow: 0 8px 0 rgba(0,0,0,0.6);
    transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
  }
  .btn:active{ transform:translateY(4px); box-shadow: 0 4px 0 rgba(0,0,0,0.6); }

  /* Minecraft-ish colored buttons (green/blue/pink gradient) */
  .btn-green{ background: linear-gradient(180deg,#2e8c3a,#58c84f); color:#071503; border-color:#163d19; filter:drop-shadow(0 8px 30px rgba(46,140,58,0.2)); }
  .btn-blue{ background: linear-gradient(180deg,#0a4fa8,#4ca0ff); color:white; border-color:#06356f; filter:drop-shadow(0 8px 30px rgba(74,160,255,0.12)); }
  .btn-pink{ background: linear-gradient(180deg,#9b0a4f,#ff6fa8); color:white; border-color:#5a052a; filter:drop-shadow(0 8px 30px rgba(255,111,168,0.1)); }

  /* subtle glow on hover */
  .btn-green:hover{ box-shadow: 0 18px 60px rgba(46,140,58,0.14); transform:translateY(-6px) }
  .btn-blue:hover{ box-shadow: 0 18px 60px rgba(74,160,255,0.12); transform:translateY(-6px) }
  .btn-pink:hover{ box-shadow: 0 18px 60px rgba(255,111,168,0.12); transform:translateY(-6px) }

  /* bottom footer small */
  .footer{ width:100%; text-align:center; color:#bfead2; font-size:10px; margin-top:8px; opacity:0.9 }

  /* Loading full-screen cinematic (pixel/blocky progress) */
  #loadingScreen{
    position:fixed; inset:0; z-index:99999; display:flex; align-items:center; justify-content:center; flex-direction:column;
    background: linear-gradient(180deg,#000,#03130b);
  }
  .loading-logo{ display:flex; align-items:center; gap:14px; margin-bottom:22px; }
  .loading-logo .cube{ width:120px;height:120px;border:10px solid #2b5a1f;background:linear-gradient(#7fbf56,#5f9a3a); box-shadow:0 14px 0 rgba(0,0,0,0.6) }
  .loading-title{ font-size:36px;color:var(--g2, #6df57a); text-shadow: 0 6px 0 rgba(0,0,0,0.6); }
  .prog-wrap{ width:520px; max-width:88%; text-align:center; }
  .prog-counter{ color:var(--accent); font-size:14px; font-weight:800; margin-bottom:10px; letter-spacing:1px }
  .prog-bar{ height:18px; border-radius:999px; background: rgba(255,255,255,0.04); overflow:hidden; border:6px solid rgba(0,0,0,0.5) }
  .prog-fill{ height:100%; width:0%; background: linear-gradient(90deg,#5aa94a,#c9ff9e); box-shadow: inset 0 6px 16px rgba(0,0,0,0.3); transition: width .18s linear; }

  /* pixel text small helper */
  .pixel-small{ font-size:10px; letter-spacing:1px; color:#cfeedd; }

  @media (max-width:720px){
    .card{ padding:18px; gap:12px; }
    .logo .cube{ width:72px;height:72px; border-width:6px }
    .title{ font-size:22px }
    .loading-logo .cube{ width:80px;height:80px; border-width:6px }
    .loading-title{ font-size:22px }
    .prog-wrap{ width:92% }
  }
</style>
</head>
<body>

<!-- floating decorative blocks -->
<div id="fb1" class="floating-block" style="left:6%; top:12%; transform:rotate(-8deg)"></div>
<div id="fb2" class="floating-block" style="right:8%; top:18%; transform:rotate(6deg) scale(.9)"></div>
<div id="fb3" class="floating-block" style="left:18%; bottom:10%; transform:rotate(4deg) scale(.85)"></div>

<!-- LOADING SCREEN (mandatory) -->
<div id="loadingScreen" role="status" aria-live="polite">
  <div class="loading-logo">
    <div class="cube"></div>
    <div>
      <div class="loading-title">DIRTMC</div>
      <div class="pixel-small">Minecraft-style server landing</div>
    </div>
  </div>

  <div class="prog-wrap" aria-hidden="true">
    <div id="progCounter" class="prog-counter">0%</div>
    <div class="prog-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
      <div id="progFill" class="prog-fill"></div>
    </div>
  </div>
</div>

<!-- MAIN UI -->
<section class="stage" aria-hidden="true">
  <div class="card" role="region" aria-label="DirtMC landing">
    <div class="logo-block">
      <div class="logo">
        <div class="cube">D</div>
        <div>
          <div class="title">DirtMC</div>
          <div class="subtitle">سيرفر ماينكرافت بطابع كلاسيكي — انضم، العب، واستمتع!</div>
        </div>
      </div>
      <div class="pixel-small">نسخة مصممة خصيصًا بطابع Minecraft — UI بلوكي ودقة عالية</div>
    </div>

    <div class="controls" aria-hidden="false">
      <div class="ip-display" id="ipDisplay">ɪᴘ: <strong>dirtmc.pro</strong> • ᴘᴏʀᴛ: <strong>21411</strong></div>

      <div class="btn-row">
        <button class="btn btn-green" id="copyBtn">انسخ IP</button>
        <a class="btn btn-blue" href="https://discord.gg/dirtmc" target="_blank" rel="noopener">Discord</a>
        <a class="btn btn-pink" href="https://www.tiktok.com/@dirtmc_" target="_blank" rel="noopener">TikTok</a>
      </div>
    </div>

    <div style="flex-basis:100%; height:0"></div>

    <div class="footer">© DirtMC — تصميم ماينكرافتي احترافي</div>
  </div>
</section>

<script>
/* ===== Loading logic (animated progress + stages) ===== */
const loadingScreen = document.getElementById('loadingScreen');
const progFill = document.getElementById('progFill');
const progCounter = document.getElementById('progCounter');
const stageSection = document.querySelector('.stage');
const floatingBlocks = document.querySelectorAll('.floating-block');

// staged progress for cinematic feel
(function runLoading(){
  let pct = 0;
  const stages = [22, 54, 82, 100];
  function nextStage(i=0){
    if(i >= stages.length){
      progFill.style.width = '100%';
      progCounter.textContent = '100%';
      // small pause then hide
      setTimeout(()=> {
        loadingScreen.style.transition = 'opacity .6s ease';
        loadingScreen.style.opacity = 0;
        setTimeout(()=> {
          loadingScreen.remove();
          // reveal main UI
          document.querySelector('section.stage').setAttribute('aria-hidden','false');
          stageSection.style.opacity = 0;
          stageSection.style.transition = 'opacity .5s ease';
          stageSection.style.opacity = 1;
          // animate floating blocks gently
          startFloatingAnim();
        }, 600);
      }, 350);
      return;
    }
    const target = stages[i];
    const t = setInterval(()=>{
      pct += Math.max(0.35, (target - pct)*0.12);
      progFill.style.width = Math.min(pct, target) + '%';
      progCounter.textContent = Math.round(Math.min(pct, target)) + '%';
      if(pct >= target - 0.6){
        clearInterval(t);
        setTimeout(()=> nextStage(i+1), 200 + Math.random()*360);
      }
    }, 28);
  }
  nextStage(0);
})();

/* ===== Floating decorative blocks animation (subtle) ===== */
function startFloatingAnim(){
  floatingBlocks.forEach((el, idx) => {
    let dir = idx % 2 === 0 ? 1 : -1;
    let ang = 0;
    function frame(){
      ang += 0.005 * (1 + idx*0.2);
      const y = Math.sin(ang) * 10 * dir;
      const x = Math.cos(ang*0.6) * 8 * dir;
      el.style.transform = `translate(${x}px, ${y}px) rotate(${Math.sin(ang)*6}deg) scale(${1 - idx*0.06})`;
      requestAnimationFrame(frame);
    }
    frame();
  });
}

/* ===== Copy IP button ===== */
document.getElementById('copyBtn').addEventListener('click', async ()=>{
  try{
    await navigator.clipboard.writeText('dirtmc.pro:21411');
    const b = document.getElementById('copyBtn');
    const old = b.textContent;
    b.textContent = 'تم النسخ ✔';
    setTimeout(()=> b.textContent = old, 1400);
  }catch(e){
    alert('فشل النسخ — حاول يدويًا');
  }
});

/* ===== optional: gentle ambient sound on first interaction (browser policies) ===== */
let ambient;
function loadAmbient(){
  if(ambient) return;
  ambient = new Audio('https://cdn.pixabay.com/audio/2022/03/15/audio_7c8f0f7e46.mp3'); // ambient loop (public)
  ambient.loop = true;
  ambient.volume = 0.28;
  ambient.play().catch(()=>{});
}
document.body.addEventListener('pointerdown', loadAmbient, {once:true});

/* ===== Accessibility: reduce motion respects user preference ===== */
(function(){
  const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
  if(mq.matches){
    // stop floating animations and heavy transforms
    floatingBlocks.forEach(el => el.style.transition = 'none');
  }
})();
</script>
</body>
</html>
